\documentclass[11pt]{article}

\usepackage[french]{babel}
\frenchbsetup{og=«, fg=»}

\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e}

% References and stuff
\usepackage{varioref}

\ifxetex
  \usepackage[setpagesize=false, % page size defined by xetex
              unicode=false, % unicode breaks when used with xetex
              xetex]{hyperref}
\else
  \usepackage[unicode=true]{hyperref}
\fi

% Fonts
\usepackage{charter}
\usepackage{berasans}
\usepackage{inconsolata}

% Inputs
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}

% Geometry
\usepackage[a4paper]{geometry}
\geometry{verbose,margin=2.5cm}

% Typography
\usepackage[runin]{abstract}
\usepackage{datetime}
\usepackage{dirtree}
\usepackage{float}
\usepackage{framed}
\usepackage{graphicx}
\usepackage{longtable}
\usepackage[os=mac, mackeys=symbols]{menukeys}
\usepackage{microtype}
\usepackage[lof,toc]{multitoc}
    \setlength{\columnseprule}{0.5pt}
\usepackage[compact]{titlesec}
\usepackage{scrtime}
\usepackage{setspace}
\usepackage[normalem]{ulem}
\usepackage{color}

\definecolor{shadecolor}{gray}{0.80}

\usepackage{enumitem}  
\SetLabelAlign{parright}{\strut\smash{\parbox[t]{\labelwidth}{\raggedleft#1}}}
\setlist[description]{style=multiline,leftmargin=2cm, align=parleft,noitemsep}

% Document commands

\newcommand\tzcard[1]{%
    \begin{minipage}[t]{1\columnwidth}%
    \begin{shaded}%
    \sffamily #1
    \end{shaded}%
    \end{minipage}
}

\newcommand\cf[1]{$$\to$$ \textit{#1}.}

\reversemarginpar

% Pandoc syntax highlighting

\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\newenvironment{Shaded}{}{}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
\newcommand{\RegionMarkerTok}[1]{{#1}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
\newcommand{\NormalTok}[1]{{#1}}

% End pandoc highlighting

% Typography settings

\setlength{\parindent}{0cm}
\setlength{\parskip}{\smallskipamount}

\begin{document}

\title{Tkacz: un~système de~gestion de~connaissances}

\author{Thibault Polge%
\thanks{Doctorant contractuel chargé d'enseignement en philosophie (PhiCo/EXeCO, ED
280, EA 3562, Paris 1 Panthéon Sorbonne). \protect\href{http://mailto:thibault.polge@univ-paris1.fr}{thibault.polge@univ-paris1.fr}%
}}

\date{Révision: \today{} à \currenttime.}

\maketitle

\begin{abstract}
Ce document présente les fonctions fondamentales d'un outil d'organisation
de données en recherche en histoire. Ce logiciel, en cours de conception,
est écrit dans le cadre de ma thèse, c'est-à-dire qu'il vise à couvrir
tout particulièrement les besoins d'un historien des sciences qui
travaille sur la période moderne.
\end{abstract}
\begin{center}\includegraphics[width=1in]{../../icons/Tkacz.iconset/icon_512x512@2x.png}\end{center}

\bigskip\begin{spacing}{.7}
\makeatletter
    \setcounter{tocdepth}{2}
    \@starttoc{toc}
\makeatother
\end{spacing}

\clearpage

\newcommand\chapter[1]{\part{#1}}

\newcommand\deprecated{\fbox{\textbf{OBSOLÈTE}}\hspace{1em}}

$body$

\end{document}